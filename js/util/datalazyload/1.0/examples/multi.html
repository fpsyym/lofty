<!DOCTYPE html>
<html>
<head>
	<meta charset="gbk">
	<title>lofty 前端基础框架</title>

	
	<!-- Demo页面自身所需的基本样式，全局Reset文件在demo.min.css中引入 --->
	<link rel="stylesheet" rev="stylesheet" href="http://wd.alibaba-inc.com/ui/static/css/demo.min.css" />
		
		
	<style>
		.offerImg{
			width:220px;
			height:170px;
			margin:20px;
			
			
		}
		#test1,#test2,#aaa{
			width:250px;
			margin:0 auto;
		}
		#fn{
			position:fixed;
			top:60px;
			left:20px;
		}
		#fn input{
			padding:8px 10px;
		}
	</style>
</head>

<body>
<script src="http://style.c.aliimg.com/fdevlib/js/lofty/port/lofty.js"></script>


<script>
	lofty.config({
		amd: true
	});
</script>
<div class="demo-content">
	<div class="demo-title">多模块懒加载</div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<div id="fn">
				<input type="button" id="showbtn1" value="显示区域1"></input>
				<input type="button" id="showbtn2" value="显示区域2"></input>
				<input type="button" id="hiedbtn" value="隐藏"></input>
			</div>
			<div style="height:300px;background-color:#ddd;" id="aaa">点隐藏按钮隐藏该区域</div>
			<div id="test1">
				<img class="offerImg" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2013/530/248/847842035_1398448438.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i04.c.aliimg.com/img/ibank/2011/560/637/457736065_1714284298.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2012/446/243/565342644_1906858889.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i04.c.aliimg.com/img/ibank/2013/283/108/911801382_1481338258.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2013/260/755/962557062_104937165.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2012/016/106/669601610_2019159583.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i05.c.aliimg.com/img/ibank/2012/357/866/709668753_1047023616.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i02.c.aliimg.com/img/ibank/2012/291/718/730817192_722888204.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i02.c.aliimg.com/img/ibank/2011/824/757/462757428_1399142984.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i05.c.aliimg.com/img/ibank/2011/772/148/465841277_789219996.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i04.c.aliimg.com/img/ibank/2011/560/637/457736065_1714284298.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/offer/47/55/85/83/4/475585834.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2013/392/948/741849293_2028178577.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/offer2/2010/756/925/426756925_465d0a3aced5896ca8311776b46e5e36.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2013/530/248/847842035_1398448438.220x220.jpg"></img>
				<img class="offerImg" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2011/240/629/382926042_547130262.220x220.jpg"></img>
				<textarea class="lazyload-textarea">
					<div style="background-color:green">
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
						<p>懒加载</p>
					</div>
				</textarea>
			</div>
			<div id="test2">
				<textarea class="lazyload-textarea">
					<img class="offerImg" data-lazyload-src="http://i05.c.aliimg.com/img/ibank/2013/304/387/831783403_1915530726.220x220.jpg"></img>
					<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2012/149/146/639641941_1913313061.220x220.jpg"></img>
					<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2012/550/504/595405055_3120724.220x220.jpg"></img>
					<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2012/367/149/621941763_1616888880.220x220.jpg"></img>
					<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2012/313/232/502232313_2015933175.220x220.jpg"></img>
					<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2011/864/562/304265468_1327675561.220x220.jpg"></img>
					<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2013/849/327/758723948_1941349982.220x220.jpg"></img>
					<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2013/196/437/796734691_1120733939.220x220.jpg"></img>
					<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2010/083/137/99731380_314595493.220x220.jpg"></img>
					<img class="offerImg" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2013/166/793/963397661_536505440.220x220.jpg"></img>
					<textarea class="lazyload-textarea">
						<div style="background-color:green">
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
							<p>懒加载</p>
						</div>
					</textarea>
				</textarea>
			</div>
			<script type="text/javascript">
			var lazy1,lazy2;
			
			define(['jquery'], function($){
				$("#test1").hide();
				$("#test2").hide();
				
				$('#hiedbtn').click(function(){
					$("#aaa").hide();
					if(!lazy1.isPause()){
						lazy1.start();
					}
					if(!lazy2.isPause()){
						lazy2.start();
					}
				});
				
				$('#showbtn1').click(function(){
					$("#test1").show();
					$("#test2").hide();
					lazy2.pause();
					lazy1.start();
				})
				$('#showbtn2').click(function(){
					$("#test1").hide();
					$("#test2").show();
					lazy1.pause();
					lazy2.start();
				});
			});
				
			define(['util/datalazyload/1.0'], function(DataLazyload){
				lazy1 = new DataLazyload({
					container:"#test1",
					autoLoad:false
				});
				lazy2 = new DataLazyload({
					container:"#test2",
					autoLoad:false,
					threshold:0
				});
			});
				
			</script>
		
		</div>		
	</div>	
</div>

<!-- Demo页面自身所需的JS，实际项目中无需引入 --->
<script src="http://wd.alibaba-inc.com/ui/static/js/demo.min.js" type="text/javascript"></script>	
</body>
</html>