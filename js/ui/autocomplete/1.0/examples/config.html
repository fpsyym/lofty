<!DOCTYPE html>
<html>
<head>
	<meta charset="gbk">
	<title>lofty 前端基础框架</title>

	<!-- Demo页面自身所需的基本样式，全局Reset文件在demo.min.css中引入 --->
	<link rel="stylesheet" rev="stylesheet" href="http://wd.alibaba-inc.com/ui/static/css/demo.min.css" />
	
	<!-- 组件依赖的DPL样式文件列表 (实际项目中请将$SkinType变量替换为 "back" 或 "front") --->
	<script type="text/javascript">
		var cssUrls = [
			"http://style.c.aliimg.com/fdevlib/css/lofty/ui/autocomplete/1.0/$SkinType/autocomplete-min.css"
		];
	</script>
	<script src="http://style.c.aliimg.com/fdevlib/js/lofty/port/lofty.js"></script>
	
	<style>
		input[type=button]{
			padding:6px;
		}
	</style>
</head>

<body>
<script>
	lofty.config({
		amd: true
	});
</script>
<div class="demo-content">
	<div class="demo-title">最基础的配置<div style="color:#A9A9A9">请输入"上海","西安","北京"等城市名称</div></div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test1"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var data =  [
									{value:"shanghai",label:"上海",alias:['sh','shh','上海']},
									{value:"xian",label:"西安",alias:['xa','西安']},
									{value:"chengdu",label:"成都",alias:['cd','chd','成都']},
									{value:"shenzhen",label:"深圳",alias:['sz','shzh','szh','深圳']},
									{value:"beijing",label:"北京",alias:['bj','北京']},
									{value:"hangzhou",label:"杭州",alias:['hz','杭州']}
							    ];
				
					var autocomplete = new Autocomplete({
						target:"#test1",
						dataSource:data
					});
					
				});
				
			</script>
		
		</div>		
	</div>	
</div>

<div class="demo-content">
	<div class="demo-title">监听select事件<div style="color:#A9A9A9">请输入"上海","西安","北京"等城市名称</div></div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test10"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var data =  [
									{value:"shanghai",label:"上海",alias:['sh','shh','上海']},
									{value:"xian",label:"西安",alias:['xa','西安']},
									{value:"chengdu",label:"成都",alias:['cd','chd','成都']},
									{value:"shenzhen",label:"深圳",alias:['sz','shzh','szh','深圳']},
									{value:"beijing",label:"北京",alias:['bj','北京']},
									{value:"hangzhou",label:"杭州",alias:['hz','杭州']}
							    ];
				
					var autocomplete = new Autocomplete({
						target:"#test10",
						dataSource:data
					});
					autocomplete.on('select',function(){
						$("#test10").val('');
					})
				});
				
			</script>
		
		</div>		
	</div>	
</div>
<div class="demo-content">
	<div class="demo-title">指定宽度，取消自动选中第一条数据<div style="color:#A9A9A9">请输入"上海","西安","北京"等城市名称</div></div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test2"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var dataSource = {
						data:[
							{value:"shanghai",label:"上海",alias:['sh','shh','上海']},
							{value:"xian",label:"西安",alias:['xa','西安']},
							{value:"chengdu",label:"成都",alias:['cd','chd','成都']},
							{value:"shenzhen",label:"深圳",alias:['sz','shzh','szh','深圳']},
							{value:"beijing",label:"北京",alias:['bj','北京']},
							{value:"hangzhou",label:"杭州",alias:['hz','杭州']}
						]
					}
					var autocomplete = new Autocomplete({
						target:"#test2",
						width:300,
						autoFocus:false,
						dataSource:dataSource
					});
					
				});
				
			</script>
		
		</div>		
	</div>	
</div>
<div class="demo-content">
	<div class="demo-title">禁用下拉框</div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test3"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var dataSource = {
						data:[
							{value:"shanghai",label:"上海",alias:['sh','shh','上海']},
							{value:"xian",label:"西安",alias:['xa','西安']},
							{value:"chengdu",label:"成都",alias:['cd','chd','成都']},
							{value:"shenzhen",label:"深圳",alias:['sz','shzh','szh','深圳']},
							{value:"beijing",label:"北京",alias:['bj','北京']},
							{value:"hangzhou",label:"杭州",alias:['hz','杭州']}
						]
					}
					var autocomplete = new Autocomplete({
						target:"#test3",
						dataSource:dataSource,
						disabled:true
					});
					
				});
				
			</script>
		
		</div>		
	</div>	
</div>
<div class="demo-content">
	<div class="demo-title">微调位置(向上移动5px,向右移动3px)<div style="color:#A9A9A9">请输入"上海","西安","北京"等城市名称</div></div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test4"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var dataSource = {
						data:[
							{value:"shanghai",label:"上海",alias:['sh','shh','上海']},
							{value:"xian",label:"西安",alias:['xa','西安']},
							{value:"chengdu",label:"成都",alias:['cd','chd','成都']},
							{value:"shenzhen",label:"深圳",alias:['sz','shzh','szh','深圳']},
							{value:"beijing",label:"北京",alias:['bj','北京']},
							{value:"hangzhou",label:"杭州",alias:['hz','杭州']}
						]
					}
					
					var autocomplete = new Autocomplete({
						target:"#test4",
						dTop:5,
						dLeft:-3,
						dataSource:dataSource
					});
					
				});
				
			</script>
		
		</div>		
	</div>	
</div>
<div class="demo-content">
	<div class="demo-title">设置输入框中最少2个字符时才去过滤数据<div style="color:#A9A9A9">请输入"上海","西安","北京"等城市名称</div></div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test5"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var dataSource = {
						data:[
							{value:"shanghai",label:"上海",alias:['sh','shh','上海']},
							{value:"xian",label:"西安",alias:['xa','西安']},
							{value:"chengdu",label:"成都",alias:['cd','chd','成都']},
							{value:"shenzhen",label:"深圳",alias:['sz','shzh','szh','深圳']},
							{value:"beijing",label:"北京",alias:['bj','北京']},
							{value:"hangzhou",label:"杭州",alias:['hz','杭州']}
						]
					}
					
					var autocomplete = new Autocomplete({
						target:"#test5",
						minLength:2,
						dataSource:dataSource
					});
					
				});
				
			</script>
		
		</div>		
	</div>	
</div>
<div class="demo-content">
	<div class="demo-title">自定义过滤器（本例为找出能整除输入数字的数字）<div style="color:#A9A9A9">请输入1~18的数字</div></div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test9"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var dataSource = {
						data:[
							{value:10,label:"10"},
							{value:11,label:"11"},
							{value:12,label:"12"},
							{value:13,label:"13"},
							{value:14,label:"14"},
							{value:15,label:"15"},
							{value:16,label:"16"},
							{value:17,label:"17"},
							{value:18,label:"18"}
						]
					}
					function fn(data,query){
						query = parseInt(query);
						var result = [];

						$.each(data, function(index, item) {
							if(item.value%query===0){
								result.push(item);
							}
							
						});
						return result;
					}
					var autocomplete = new Autocomplete({
						target:"#test9",
						filter:fn,
						delay:300,
						dataSource:dataSource
					});
					
				});
				
			</script>
		
		</div>		
	</div>	
</div>
<div class="demo-content">
	<div class="demo-title">指定列表的数据（locator）<div style="color:#A9A9A9">请输入"上海","西安","北京"等城市名称</div></div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test6"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var dataSource = {
						aaa:{
							bbb:[
								{value:"shanghai",label:"上海",alias:['sh','shh','上海']},
								{value:"xian",label:"西安",alias:['xa','西安']},
								{value:"chengdu",label:"成都",alias:['cd','chd','成都']},
								{value:"shenzhen",label:"深圳",alias:['sz','shzh','szh','深圳']},
								{value:"beijing",label:"北京",alias:['bj','北京']},
								{value:"hangzhou",label:"杭州",alias:['hz','杭州']}
							]
						}
						
					}
					
					var autocomplete = new Autocomplete({
						target:"#test6",
						locator:'aaa.bbb',
						dataSource:dataSource
					});
					
				});
				
			</script>
		
		</div>		
	</div>	
</div>
<div class="demo-content">
	<div class="demo-title">自定义下拉框中每一项的显示方式<div style="color:#A9A9A9">请输入"上海","西安","北京"等城市名称</div></div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test7"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var dataSource = {
						data:[
							{value:"shanghai",label:"上海",alias:['sh','shh','上海'],desc:"繁华"},
							{value:"xian",label:"西安",alias:['xa','西安'],desc:"古都"},
							{value:"chengdu",label:"成都",alias:['cd','chd','成都'],desc:"休闲"},
							{value:"shenzhen",label:"深圳",alias:['sz','shzh','szh','深圳'],desc:"特区"},
							{value:"beijing",label:"北京",alias:['bj','北京'],desc:"首都"},
							{value:"hangzhou",label:"杭州",alias:['hz','杭州'],desc:"美"}
						]
					}
					function renderList(){
						var dataList = this.dataList;
						var itemList = [];
						itemList.push('<ul>');
						for(var i=0,j=dataList.length;i<j;i++){
							itemList.push('<li class="fui/autocomplete/1.0-item">');
							itemList.push('<span style="display:inline-block;width:100%">');
							itemList.push('<span style="float:left;display:inline-block;color:#000">');
							itemList.push(dataList[i].label);
							itemList.push('</span>');
							itemList.push('<span style="float:right;display:inline-block;color:#999">');
							itemList.push(dataList[i].desc);
							itemList.push('</span>');
							itemList.push('</span>');
							itemList.push('</li>');
						}
						itemList.push('</ul>');
						this.get('el').html(itemList.join(''));
					}
					var autocomplete = new Autocomplete({
						target:"#test7",
						renderList:renderList,
						dataSource:dataSource
					});
					
				});
				
			</script>
		
		</div>		
	</div>	
</div>
<div class="demo-content">
	<div class="demo-title">异步取数据时，一般配合delay使用(连续输入内容的时间间隔小于delay时，不触发取数据的逻辑)</div>
	<div class="demo-widget">
		<div class="demo-widget-dom">
			<input type="text" id="test8"></input>
			<script type="text/javascript">
				define(['fui/autocomplete/1.0'], function(Autocomplete){
					var dataSource = {
						data:[
							{value:"shanghai",label:"上海",alias:['sh','shh','上海']},
							{value:"xian",label:"西安",alias:['xa','西安']},
							{value:"chengdu",label:"成都",alias:['cd','chd','成都']},
							{value:"shenzhen",label:"深圳",alias:['sz','shzh','szh','深圳']},
							{value:"beijing",label:"北京",alias:['bj','北京']},
							{value:"hangzhou",label:"杭州",alias:['hz','杭州']}
						]
					}
					function fn(){
						var self = this;
						setTimeout(function(){
							self.trigger("dataReady",dataSource);
						},100)
					}
					var autocomplete = new Autocomplete({
						target:"#test8",
						delay:300,
						dataSource:fn,
						filter:null
					});
					
				});
				
			</script>
		
		</div>		
	</div>	
</div>

<!-- Demo页面自身所需的JS，实际项目中无需引入 --->
<script src="http://wd.alibaba-inc.com/ui/static/js/demo.min.js" type="text/javascript"></script>	
</body>
</html>