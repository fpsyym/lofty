<!DOCTYPE html>
<html>
<head>
	<meta charset="gbk">
	<title>lofty 前端基础框架</title>

	<!-- Demo页面自身所需的基本样式，全局Reset文件在demo.min.css中引入 --->
	<link rel="stylesheet" rev="stylesheet" href="http://wd.alibaba-inc.com/ui/static/css/demo.min.css" />

</head>

<body>
	<div class="demo-content">
	
<div class="demo-widget">
 <div class="demo-widget-dom">	
 
  <div id="demo1" style="height:200px; width:800px;background-color:#aaa">
	
  </div>
  
   <script src="http://style.c.aliimg.com/fdevlib/js/lofty/port/lofty.js"></script>
 
   <script type="text/javascript">
		lofty.config({
			amd: true
		});

		define(['lofty/class', 'fui/mouse/1.0',  'jquery'], function(Class, Mouse, $){
			
			var sampleClass = Class( Mouse, {
				
				_create: function(){
					this.mouseInit();
				},
				
				mouseCapture: function(e){
					console.log('handler-_mousedown');
					return true;
				},
				
				mouseStart: function(e){
					if (this.get('distance')) {
						pageX = e.pageX;
						pageY = e.pageY;
						
					}
					if (this.get('delay')) {
						dtCapture = new Date();
					}
					
					if (this.get('cancel')) {
						if (e.target !== this.get('el')[0] && $(e.target).closest(this.get('cancel')).length) {
							console.log('handler-cancel');
						}
						else {
							console.log('handler-cancel');
						}
					}
				},
				
				mouseDrag: function(e){
					if (this.get('delay') && dtCapture) {
						dtCapture = null;
						if (new Date() - dtCapture >= this.get('delay')) {
							console.log('handler-delay');
						}
						else {
							console.log('handler-delay');
						}
					}
					if (this.get('distance') && pageX && pageY) {
						pageX = pageY = null;
						if (Math.abs(e.pageX - pageX) >= this.get('distance') || Math.abs(e.pageY - pageY) >= this.get('distance')) {
							console.log('handler-distance');
							
						}
						else {
							console.log('handler-distance');
						}
					}
					console.log('handler-_mousemove');
				},
				
				mouseStop: function(){
					console.log('handler-_mouseup');
				}
			});
	
			
			var aa = new sampleClass({
				tpl:'#demo1',
				distance: 100,
				delay: 1000
			});
			
	   });
			
	</script>

 </div>		
</div>	
	
	
	
	
  </div>
<!-- Demo页面自身所需的JS，实际项目中无需引入 --->
<script src="http://wd.alibaba-inc.com/ui/static/js/demo.min.js" type="text/javascript"></script>	
</body>
</html>